<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login | Magulang de Asukal</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Meow+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Molle&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>Wilkam Bak</h1>
    </header>

    <!-- Navigation Bar -->
    <nav>
        <a href="index.html"><i class="fa fa-home"></i> Home</a>
        <a href="profiles.html"><i class="fa fa-users"></i> Browse Profiles</a>
        <a href="messages.html" id="messages-link" style="display: none;"><i class="fa fa-envelope"></i> Messages</a>
        <a href="signup.html" id="signup-link"><i class="fa fa-user-plus"></i> Sign Up</a>
        <a href="login.html" id="login-link"><i class="fa fa-sign-in-alt"></i> Login</a>
        <a href="#" id="logout-link" style="display: none;"><i class="fa fa-sign-out-alt"></i> Logout</a>
    </nav>

    <!-- Login Form Section -->
    <section class="form-section">
        <h2>Login to Your Account</h2>
        <form id="login-form">
            <label for="email">Email Address</label>
            <input type="email" id="email" name="email" placeholder="Enter your email" required>

            <label for="password">Password</label>
            <input type="password" id="password" name="password" placeholder="Enter your password" required>

            <button type="submit"><i class="fa fa-sign-in-alt"></i> Login</button>
        </form>
    </section>

    <!-- Footer -->
    <footer>
        <p>Don't have an account? <a href="signup.html">Sign up here</a></p>
    </footer>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loginForm = document.getElementById("login-form");
            const loginLink = document.getElementById("login-link");
            const signupLink = document.getElementById("signup-link");
            const logoutLink = document.getElementById("logout-link");
            const messagesLink = document.getElementById("messages-link");

            // Check if user is already logged in
            let isLoggedIn = localStorage.getItem("loggedIn") === "true";
            
            if (isLoggedIn) {
                loginLink.style.display = "none";
                signupLink.style.display = "none";
                logoutLink.style.display = "inline-block";
                messagesLink.style.display = "inline-block";
            }

            // Handle login form submission
            loginForm.addEventListener("submit", function (event) {
                event.preventDefault();
                localStorage.setItem("loggedIn", "true");
                window.location.href = "index.html";
            });

            // Handle logout
            if (logoutLink) {
                logoutLink.addEventListener("click", function () {
                    localStorage.removeItem("loggedIn");
                    window.location.href = "index.html";
                });
            }
        });
    </script>
</body>
</html>
